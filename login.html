<html>
  <head>
	  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  </head>
  <body>
    <form>
        用户名：<input type="text" id="userName"/><br/>
        密码：<input type="password" id="psw"/><br/>
	<input type="button" value="登录" id="btn"/><br/>
	<span id="mess" style="color:red;"></span>
    </form>
	  <script src="http://code.jquery.com/jquery-latest.js"></script>
	  <script>
		  $(function(){
		  	$("#btn").on("click",function(){
				var userName = $("#userName").val().trim();
			  	var psw = $("#psw").val().trim();
				 $.ajax({
					type: "GET",//请求方式
					url: "https://1287642889.github.io/usersJson.json",//地址，就是json文件的请求路径
					dataType: "json",//数据类型可以为 text xml json  script  jsonp
				  	success: function(result){//返回的参数就是 action里面所有的有get和set方法的参数
					    var flag = false;
					    for(var i =0;i<result.length;i++){
							if(result[i].userName === userName && result[i].psw === psw){
								flag = true;
								$.ajax({
									type:"GET",
									url:"https://1287642889.github.io/currentUserJson.json",
									dataType:"json",
									success:function(currentUser){
										currentUser.userName = userName;
									}
								})
								window.location.href="https://1287642889.github.io/index";
							}
					    }
					    if(!flag){
					       $("#mess").html("用户名或密码错误！");
					    }
					}
				})
			})
		  })
	  </script>
  </body>
</html>
